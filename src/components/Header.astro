---
import ScrollProgress from './navigation/ScrollProgress.tsx';

const navItems = [
  { href: '/', label: 'Home' },
  { href: '/projects', label: 'Projects' },
  { href: '/about', label: 'About' },
  { href: '/contact', label: 'Contact' }
];

const pathname = Astro.url.pathname.replace(/\/+$/, '') || '/';
---

<header class="sticky top-0 z-40 border-b border-[color:var(--line-1)] bg-[color:rgba(11,16,22,0.78)] backdrop-blur-md">
  <div class="relative">
    <div class="mx-auto flex h-16 max-w-[1280px] items-center justify-between px-6 sm:px-12 lg:px-16">
      <a href="/" class="flex items-center gap-3 text-lg font-semibold tracking-tight">
        <span aria-hidden="true" class="grid h-9 w-9 place-items-center rounded-full bg-[color:var(--bg-2)] shadow-ambient ring-1 ring-[color:var(--line-1)]">
          <span class="h-5 w-5 rounded-full border border-[color:var(--pri-500)] bg-[color:var(--pri-500)]/20"></span>
        </span>
        <span class="font-display text-base sm:text-lg">Portful Studio</span>
      </a>
      <nav aria-label="Primary" class="flex items-center gap-2">
        {navItems.map((item) => {
          const isActive = pathname === item.href;
          return (
            <a
              href={item.href}
              class={`rounded-full border border-transparent px-4 py-2 text-sm font-medium transition-colors duration-120 ease-settle focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-[color:var(--bg-0)] ${
                isActive
                  ? 'bg-[color:var(--bg-2)] text-[color:var(--pri-300)] shadow-ambient'
                  : 'text-[color:var(--text-2)] hover:text-[color:var(--pri-400)]'
              }`}
              aria-current={isActive ? 'page' : undefined}
            >
              {item.label}
            </a>
          );
        })}
      </nav>
    </div>
    <ScrollProgress client:visible />
  </div>
</header>

