import{j as s}from"./use-reduced-motion.4nitJuUi.js";import{r as a}from"./index.DK-fsZOb.js";import{c as h}from"./clsx.B-dksMZM.js";import{a as k}from"./use-spring.EdRonClu.js";import{m as v}from"./proxy.DWhrRZqe.js";import{ProjectCard as j}from"./ProjectCard.k5UO6gxW.js";import{A as C}from"./index.BLaJRWlH.js";function y({options:o,value:i,onChange:u,ariaLabel:c}){const g=a.useRef(null),p=a.useRef(null),d=k(0),[b,r]=a.useState({left:0,right:0});a.useEffect(()=>{const e=p.current,n=g.current;if(!e||!n)return;const f=()=>{const x=n.scrollWidth-e.clientWidth;x>0?r({left:-x,right:0}):(d.set(0),r({left:0,right:0}))};f();const m=new ResizeObserver(f);return m.observe(e),m.observe(n),()=>m.disconnect()},[d]);const l=a.useCallback((e,n)=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),u(n.value))},[u]),t=a.useMemo(()=>{const e=o.findIndex(n=>n.value===i);return e===-1?0:e},[o,i]);return s.jsx("div",{ref:p,className:"relative overflow-hidden rounded-full border border-[color:var(--line-1)] bg-[color:rgba(74,4,4,0.8)] px-2 py-2",children:s.jsx(v.div,{ref:g,className:"flex items-center gap-2",drag:"x",dragConstraints:b,dragElastic:.12,dragMomentum:!0,style:{x:d},"aria-label":c,children:o.map((e,n)=>{const f=e.value===i;return s.jsx("button",{type:"button",className:h("relative inline-flex select-none items-center gap-2 rounded-full px-4 py-2 text-xs font-medium uppercase tracking-[0.25em] transition-colors duration-120 ease-settle focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--pri-400)] focus-visible:ring-offset-2 focus-visible:ring-offset-[color:var(--bg-0)]",f?"bg-[color:rgba(117,32,55,0.2)] text-[color:var(--pri-300)]":"text-[color:var(--text-3)] hover:text-[color:var(--pri-400)]"),onClick:()=>u(e.value),onKeyDown:m=>l(m,e),"aria-pressed":f,tabIndex:n===t?0:-1,children:e.label},e.value)})})})}const w={type:"spring",stiffness:160,damping:22};function F({projects:o}){const[i,u]=a.useState("all"),[c,g]=a.useState("all"),p=a.useMemo(()=>{const r=new Map;o.forEach(t=>{const e=t.category||"Uncategorized";r.set(e,(r.get(e)||0)+1)});const l=Array.from(r.entries()).sort((t,e)=>t[0].localeCompare(e[0])).map(([t,e])=>({value:t,label:`${t} (${e})`}));return[{value:"all",label:"All Launches"},...l]},[o]),d=a.useMemo(()=>{const r=new Map;o.forEach(t=>{t.stack?.forEach(e=>{r.set(e,(r.get(e)||0)+1)})});const l=Array.from(r.entries()).sort((t,e)=>e[1]-t[1]).slice(0,16).map(([t,e])=>({value:t,label:`${t} (${e})`}));return[{value:"all",label:"All Tech"},...l]},[o]),b=a.useMemo(()=>o.filter(r=>{const l=i==="all"||r.category===i,t=c==="all"||r.stack?.some(e=>e.toLowerCase()===c.toLowerCase());return l&&t}),[o,i,c]);return s.jsxs("div",{className:"space-y-8",children:[s.jsx(y,{options:p,value:i,onChange:u,ariaLabel:"Filter projects by category"}),s.jsx(y,{options:d,value:c,onChange:g,ariaLabel:"Filter projects by technology stack"}),s.jsx(v.div,{layout:!0,transition:w,className:"grid gap-8 md:grid-cols-2 xl:grid-cols-3",children:s.jsx(C,{initial:!1,children:b.map((r,l)=>s.jsx(v.div,{layout:!0,initial:{opacity:0,y:24},animate:{opacity:1,y:0},exit:{opacity:0,y:24},transition:{duration:.35,ease:"easeOut"},children:s.jsx(j,{project:r,index:l})},r.slug))})}),b.length===0&&s.jsx("div",{className:"rounded-card border border-dashed border-[color:var(--line-1)] bg-[color:rgba(74,4,4,0.52)] p-10 text-sm text-[color:var(--text-3)]",children:"No projects match that filter yet. Try adjusting your filters or clear them."})]})}export{F as ProjectsArena};
