import { jsxs, jsx } from 'react/jsx-runtime';
import { useState, useMemo } from 'react';
import { useReducedMotion, useSpring, motion } from 'framer-motion';
import clsx from 'clsx';

const hoverSpring = {
  type: "spring",
  mass: 0.9,
  stiffness: 120,
  damping: 18,
  restDelta: 2e-3
};
function ProjectCard({ project, index = 0 }) {
  const prefersReducedMotion = useReducedMotion();
  const [isPressed, setIsPressed] = useState(false);
  const orbitalDelay = useMemo(() => index * 0.06, [index]);
  const ringSpring = useSpring(0, {
    stiffness: 180,
    damping: 16,
    mass: 0.6
  });
  const handlePress = () => {
    setIsPressed(true);
    ringSpring.set(1);
  };
  const handleRelease = () => {
    setIsPressed(false);
    ringSpring.set(0);
  };
  return /* @__PURE__ */ jsxs(
    motion.article,
    {
      className: "group relative flex h-full flex-col overflow-hidden rounded-card border border-[color:var(--line-1)] bg-[color:rgba(12,13,19,0.92)] p-6 shadow-ambient backdrop-blur",
      initial: prefersReducedMotion ? void 0 : { opacity: 0, y: 24, rotateZ: 1.5 },
      whileInView: prefersReducedMotion ? void 0 : { opacity: 1, y: 0, rotateZ: 0 },
      transition: prefersReducedMotion ? void 0 : { delay: orbitalDelay, duration: 0.6, ease: "easeOut" },
      whileHover: prefersReducedMotion ? void 0 : {
        y: -6,
        rotateZ: 0.5,
        transition: hoverSpring
      },
      whileTap: prefersReducedMotion ? void 0 : {
        scale: [1, 0.985, 1.015, 1],
        rotateZ: [-1.5, 1.5, 0],
        transition: { duration: 0.45, ease: "easeOut" }
      },
      onPointerDown: !prefersReducedMotion ? handlePress : void 0,
      onPointerUp: !prefersReducedMotion ? handleRelease : void 0,
      onPointerLeave: !prefersReducedMotion ? handleRelease : void 0,
      children: [
        /* @__PURE__ */ jsx(
          "div",
          {
            className: clsx(
              "absolute inset-0 opacity-0 transition duration-120 ease-settle group-hover:opacity-100",
              "bg-[radial-gradient(circle_at_30%_20%,rgba(124,58,237,0.18),transparent_60%),radial-gradient(circle_at_80%_70%,rgba(34,211,238,0.15),transparent_55%)]"
            ),
            "aria-hidden": true
          }
        ),
        /* @__PURE__ */ jsxs("div", { className: "relative flex flex-1 flex-col", children: [
          /* @__PURE__ */ jsx("p", { className: "text-xs uppercase tracking-[0.3em] text-[color:var(--text-3)]", children: project.category }),
          /* @__PURE__ */ jsx("h3", { className: "mt-3 font-display text-2xl font-semibold text-[color:var(--text-1)]", children: project.title }),
          /* @__PURE__ */ jsx("p", { className: "mt-4 text-sm text-[color:var(--text-2)]", children: project.summary }),
          project.stack?.length && /* @__PURE__ */ jsx("div", { className: "mt-6 flex flex-wrap gap-2", children: project.stack.slice(0, 6).map((tech) => /* @__PURE__ */ jsx(
            "span",
            {
              className: "rounded-full border border-[color:var(--line-1)] bg-[color:rgba(21,24,38,0.85)] px-3 py-1 text-xs uppercase tracking-[0.2em] text-[color:var(--text-3)]",
              children: tech
            },
            tech
          )) })
        ] }),
        /* @__PURE__ */ jsxs(
          motion.div,
          {
            className: "relative mt-6 inline-flex items-center gap-2 text-sm font-medium text-[color:var(--pri-400)]",
            animate: prefersReducedMotion ? void 0 : {
              x: isPressed ? 4 : 0,
              transition: { type: "spring", stiffness: 240, damping: 18 }
            },
            children: [
              "Enter Bay",
              /* @__PURE__ */ jsx(
                motion.span,
                {
                  "aria-hidden": true,
                  className: "inline-flex h-2 w-2 rounded-full bg-[color:var(--sec-500)]",
                  style: {
                    scale: prefersReducedMotion ? void 0 : ringSpring
                  }
                }
              )
            ]
          }
        )
      ]
    }
  );
}

export { ProjectCard };
