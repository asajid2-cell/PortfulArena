import{j as s}from"./use-reduced-motion.0NjPS7fq.js";import{r as a}from"./index.CVf8TyFT.js";import{c as h}from"./clsx.B-dksMZM.js";import{a as k}from"./use-spring.BdTRCmdy.js";import{m as v}from"./proxy.ByL_PhoU.js";import{ProjectCard as C}from"./ProjectCard.ZcXJQ1xW.js";import{A as j}from"./index.FsBtQjHS.js";function y({options:o,value:i,onChange:u,ariaLabel:c}){const p=a.useRef(null),g=a.useRef(null),d=k(0),[b,r]=a.useState({left:0,right:0});a.useEffect(()=>{const e=g.current,l=p.current;if(!e||!l)return;const f=()=>{const x=l.scrollWidth-e.clientWidth;x>0?r({left:-x,right:0}):(d.set(0),r({left:0,right:0}))};f();const m=new ResizeObserver(f);return m.observe(e),m.observe(l),()=>m.disconnect()},[d]);const n=a.useCallback((e,l)=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),u(l.value))},[u]),t=a.useMemo(()=>{const e=o.findIndex(l=>l.value===i);return e===-1?0:e},[o,i]);return s.jsx("div",{ref:g,className:"relative overflow-hidden rounded-full border border-[color:var(--line-1)] bg-[color:rgba(12,13,19,0.75)] px-2 py-2",children:s.jsx(v.div,{ref:p,className:"flex items-center gap-2",drag:"x",dragConstraints:b,dragElastic:.12,dragMomentum:!0,style:{x:d},"aria-label":c,children:o.map((e,l)=>{const f=e.value===i;return s.jsx("button",{type:"button",className:h("relative inline-flex select-none items-center gap-2 rounded-full px-4 py-2 text-xs font-medium uppercase tracking-[0.25em] transition-colors duration-120 ease-settle focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--pri-400)] focus-visible:ring-offset-2 focus-visible:ring-offset-[color:var(--bg-0)]",f?"bg-[color:rgba(124,58,237,0.14)] text-[color:var(--pri-300)] shadow-neon":"text-[color:var(--text-3)] hover:text-[color:var(--pri-400)]"),onClick:()=>u(e.value),onKeyDown:m=>n(m,e),"aria-pressed":f,tabIndex:l===t?0:-1,children:e.label},e.value)})})})}const w={type:"spring",stiffness:160,damping:22};function F({projects:o}){const[i,u]=a.useState("all"),[c,p]=a.useState("all"),g=a.useMemo(()=>{const r=new Map;o.forEach(t=>{const e=t.category||"Uncategorized";r.set(e,(r.get(e)||0)+1)});const n=Array.from(r.entries()).sort((t,e)=>t[0].localeCompare(e[0])).map(([t,e])=>({value:t,label:`${t} (${e})`}));return[{value:"all",label:"All Launches"},...n]},[o]),d=a.useMemo(()=>{const r=new Map;o.forEach(t=>{t.stack?.forEach(e=>{r.set(e,(r.get(e)||0)+1)})});const n=Array.from(r.entries()).sort((t,e)=>e[1]-t[1]).slice(0,16).map(([t,e])=>({value:t,label:`${t} (${e})`}));return[{value:"all",label:"All Tech"},...n]},[o]),b=a.useMemo(()=>o.filter(r=>{const n=i==="all"||r.category===i,t=c==="all"||r.stack?.some(e=>e.toLowerCase()===c.toLowerCase());return n&&t}),[o,i,c]);return s.jsxs("div",{className:"space-y-8",children:[s.jsx(y,{options:g,value:i,onChange:u,ariaLabel:"Filter projects by category"}),s.jsx(y,{options:d,value:c,onChange:p,ariaLabel:"Filter projects by technology stack"}),s.jsx(v.div,{layout:!0,transition:w,className:"grid gap-8 md:grid-cols-2 xl:grid-cols-3",children:s.jsx(j,{initial:!1,children:b.map((r,n)=>s.jsx(v.div,{layout:!0,initial:{opacity:0,y:24},animate:{opacity:1,y:0},exit:{opacity:0,y:24},transition:{duration:.35,ease:"easeOut"},children:s.jsx(C,{project:r,index:n})},r.slug))})}),b.length===0&&s.jsx("div",{className:"rounded-card border border-dashed border-[color:var(--line-1)] bg-[color:rgba(21,24,38,0.55)] p-10 text-sm text-[color:var(--text-3)]",children:"Nothing spins with that combo yet. Try another filter or widen the arena scope."})]})}export{F as ProjectsArena};
